{"version":3,"sources":["webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue","webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue?f41a","webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue?fb65","webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue?863e","webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue?b69c","webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue?d27a","webpack:///E:/Desktop/uni-app/project1/pages/voice/voice.vue?9688"],"names":["util","require","playTimeInterval","recordTimeInterval","recorderManager","music","data","title","recording","playing","hasRecord","tempFilePath","recordTime","playTime","formatedRecordTime","formatedPlayTime","onUnload","end","onLoad","uni","createInnerAudioContext","onEnded","clearInterval","console","log","formatTime","getRecorderManager","onStart","onStop","res","src","uploadFile","url","filePath","name","formData","success","uploadFileRes","JSON","parse","path","result","methods","startRecord","setInterval","start","format","stopRecord","stop","playVoice","play","stopVoice","clear"],"mappings":"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","file":"pages/voice/voice.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\tvar util = require('../../common/util.js')\n\tvar playTimeInterval = null;\n\tvar recordTimeInterval = null;\n\tvar recorderManager = null;\n\tvar music = null;\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: 'start/stopRecord、play/stopVoice',\n\t\t\t\trecording: false, //录音中\n\t\t\t\tplaying: false, //播放中\n\t\t\t\thasRecord: false, //是否有了一个\n\t\t\t\ttempFilePath: '',\n\t\t\t\trecordTime: 0,\n\t\t\t\tplayTime: 0,\n\t\t\t\tformatedRecordTime: '00:00:00', //录音的总时间\n\t\t\t\tformatedPlayTime: '00:00:00' ,//播放录音的当前时间\n\t\t\t\tdata:\"\"\n\t\t\t}\n\t\t},\n\t\tonUnload: function() {\n\t\t\tthis.end();\n\t\t},\n\t\tonLoad: function() {\n\t\t\tmusic = uni.createInnerAudioContext();\n\t\t\tmusic.onEnded(() => {\n\t\t\t\tclearInterval(playTimeInterval)\n\t\t\t\tvar playTime = 0\n\t\t\t\tconsole.log('play voice finished')\n\t\t\t\tthis.playing = false;\n\t\t\t\tthis.formatedPlayTime = util.formatTime(playTime);\n\t\t\t\tthis.playTime = playTime;\n\t\t\t});\n\t\t\trecorderManager = uni.getRecorderManager();\n\t\t\trecorderManager.onStart(() => {\n\t\t\t\tconsole.log('recorder start');\n\t\t\t});\n\t\t\trecorderManager.onStop((res) => {\n\t\t\t\tconsole.log('on stop');\n\t\t\t\tmusic.src = res.tempFilePath;\n                console.log(res.tempFilePath)\n\t\n        uni.uploadFile({\n            url: 'https://www.qinendong.com/api/vx_upload', //仅为示例，非真实的接口地址\n            filePath: res.tempFilePath,\n            name: 'file',\n            formData: {\n                'user': 'test'\n            },\n            success: (uploadFileRes) => {\n                console.log(uploadFileRes.data);\n\t\t\t\tconsole.log(JSON.parse(uploadFileRes.data))\n\t\t\t\tconsole.log(JSON.parse(JSON.parse(uploadFileRes.data).path).result)\n\t\t\t\tthis.data = JSON.parse(JSON.parse(uploadFileRes.data).path)\n            }\n        });\n\n\t\t\t\t\n\t\t\t\tthis.hasRecord = true;\n\t\t\t\tthis.recording = false;\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\t\t\tstartRecord() { //开始录音\n\t\t\t\tthis.recording = true;\n\n\t\t\t\trecordTimeInterval = setInterval(() => {\n\t\t\t\t\tthis.recordTime += 1;\n\t\t\t\t\tthis.formatedRecordTime = util.formatTime(this.recordTime);\n\t\t\t\t}, 1000)\n\n\t\t\t\trecorderManager.start({\n\t\t\t\t\tformat: 'mp3'\n\t\t\t\t});\n\t\t\t},\n\t\t\tstopRecord() { //停止录音\n\t\t\t\trecorderManager.stop();\n\t\t\t\tclearInterval(recordTimeInterval);\n\t\t\t\t\n\t\t\t},\n\t\t\tplayVoice() {\n\t\t\t\tconsole.log('play voice');\n\t\t\t\tplayTimeInterval = setInterval(() => {\n\t\t\t\t\tthis.playing = true;\n\t\t\t\t\tthis.playTime += 1;\n\t\t\t\t\tthis.formatedPlayTime = util.formatTime(this.playTime);\n\t\t\t\t}, 1000)\n\t\t\t\tmusic.play();\n\t\t\t},\n\t\t\tstopVoice() {\n\t\t\t\tclearInterval(playTimeInterval)\n\t\t\t\tthis.playing = false;\n\t\t\t\tthis.formatedPlayTime = util.formatTime(0);\n\t\t\t\tthis.playTime = 0;\n\t\t\t\tmusic.stop();\n\t\t\t},\n\t\t\tend() {\n\t\t\t\tmusic.stop();\n\t\t\t\trecorderManager.stop();\n\t\t\t\tclearInterval(recordTimeInterval)\n\t\t\t\tclearInterval(playTimeInterval);\n\t\t\t\tthis.recording = false, this.playing = false, this.hasRecord = false;\n\t\t\t\tthis.playTime = 0, this.recordTime = 0;\n\t\t\t\tthis.formatedRecordTime = \"00:00:00\", this.formatedRecordTime = \"00:00:00\";\n\t\t\t},\n\t\t\tclear() {\n\t\t\t\tthis.end();\n\t\t\t}\n\t\t}\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./voice.vue?vue&type=template&id=12cd33ed&\"\nimport script from \"./voice.vue?vue&type=script&lang=js&\"\nexport * from \"./voice.vue?vue&type=script&lang=js&\"\nimport style0 from \"./voice.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('12cd33ed', component.options)\n    } else {\n      api.reload('12cd33ed', component.options)\n    }\n    module.hot.accept(\"./voice.vue?vue&type=template&id=12cd33ed&\", function () {\n      api.rerender('12cd33ed', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/Desktop/uni-app/project1/pages/voice/voice.vue\"\nexport default component.exports","import mod from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./voice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./voice.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./voice.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./voice.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./voice.vue?vue&type=template&id=12cd33ed&\""],"sourceRoot":""}