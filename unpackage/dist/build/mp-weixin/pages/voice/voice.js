(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/voice/voice"],{"51c4":function(e,t,o){"use strict";var a=o("549b"),n=o.n(a);n.a},"549b":function(e,t,o){},aecc:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o("4839"),n=null,r=null,i=null,c=null,l={data:function(){return{title:"start/stopRecord„ÄÅplay/stopVoice",recording:!1,playing:!1,hasRecord:!1,tempFilePath:"",recordTime:0,playTime:0,formatedRecordTime:"00:00:00",formatedPlayTime:"00:00:00",data:""}},onUnload:function(){this.end()},onLoad:function(){var t=this;c=e.createInnerAudioContext(),c.onEnded(function(){clearInterval(n);var e=0;console.log("play voice finished"),t.playing=!1,t.formatedPlayTime=a.formatTime(e),t.playTime=e}),i=e.getRecorderManager(),i.onStart(function(){console.log("recorder start")}),i.onStop(function(o){console.log("on stop"),c.src=o.tempFilePath,console.log(o.tempFilePath),e.uploadFile({url:"https://www.qinendong.com/api/vx_upload",filePath:o.tempFilePath,name:"file",formData:{user:"test"},success:function(e){console.log(e.data),console.log(JSON.parse(e.data)),console.log(JSON.parse(JSON.parse(e.data).path).result),t.data=JSON.parse(JSON.parse(e.data).path)}}),t.hasRecord=!0,t.recording=!1})},methods:{startRecord:function(){var e=this;this.recording=!0,r=setInterval(function(){e.recordTime+=1,e.formatedRecordTime=a.formatTime(e.recordTime)},1e3),i.start({format:"mp3"})},stopRecord:function(){i.stop(),clearInterval(r)},playVoice:function(){var e=this;console.log("play voice"),n=setInterval(function(){e.playing=!0,e.playTime+=1,e.formatedPlayTime=a.formatTime(e.playTime)},1e3),c.play()},stopVoice:function(){clearInterval(n),this.playing=!1,this.formatedPlayTime=a.formatTime(0),this.playTime=0,c.stop()},end:function(){c.stop(),i.stop(),clearInterval(r),clearInterval(n),this.recording=!1,this.playing=!1,this.hasRecord=!1,this.playTime=0,this.recordTime=0,this.formatedRecordTime="00:00:00",this.formatedRecordTime="00:00:00"},clear:function(){this.end()}}};t.default=l}).call(this,o("543d")["default"])},afe8:function(e,t,o){"use strict";o.r(t);var a=o("aecc"),n=o.n(a);for(var r in a)"default"!==r&&function(e){o.d(t,e,function(){return a[e]})}(r);t["default"]=n.a},e45d:function(e,t,o){"use strict";o.r(t);var a=o("f360"),n=o("afe8");for(var r in n)"default"!==r&&function(e){o.d(t,e,function(){return n[e]})}(r);o("51c4");var i=o("2877"),c=Object(i["a"])(n["default"],a["a"],a["b"],!1,null,null,null);t["default"]=c.exports},f360:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},n=[];o.d(t,"a",function(){return a}),o.d(t,"b",function(){return n})}},[["e33f","common/runtime","common/vendor"]]]);