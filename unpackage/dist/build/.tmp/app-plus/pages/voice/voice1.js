(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/voice/voice1"],{"125e":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t.getRecorderManager(),a=t.createInnerAudioContext();a.autoplay=!0;var n=0,i={data:function(){return{name:"",sr:!0,title:"你好",data:Array,my:[],you:[],a_int:0}},onLoad:function(){},methods:{isActive:function(t){return t%2==0||t%2!=1&&void 0},isActive1:function(t){return t%2!=0&&(t%2==1||void 0)},btn:function(){var e=this,o=new Date,a=o.toLocaleString();this.$set(this.my,this.a_int,{message:this.title,time:a}),console.log(this.my," at pages\\voice\\voice1.vue:85"),t.request({url:"https://www.qinendong.com/api/Robot/Robot",method:"POST",data:{string:this.title},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t," at pages\\voice\\voice1.vue:96"),0==t.data.error_code?(e.data=t.data,e.title="",e.a_int++,e.$set(e.my,e.a_int,{message:e.data.result.response_list[0].action_list[0].say,time:e.data.result.timestamp}),e.a_int++,e.yuhc(e.data.result.response_list[0].action_list[0].say)):(n<0?e.btn():(e.a_int++,e.$set(e.my,e.a_int,{message:"不好意思这个问题我现在不知道怎么回复您",time:a}),e.a_int++),n++)}})},open_sr:function(){this.sr=!this.sr},startRecord:function(){console.log("开始录音"," at pages\\voice\\voice1.vue:124"),o.start({format:"mp3"})},endRecord:function(){console.log("录音结束"," at pages\\voice\\voice1.vue:131"),o.stop(),this.onstop()},onstop:function(){var e=this;o.onStop(function(o){e.voicePath=o.tempFilePath,console.log(o.tempFilePath," at pages\\voice\\voice1.vue:140"),t.uploadFile({url:"https://www.qinendong.com/api/vx_upload",filePath:o.tempFilePath,name:"file",formData:{user:"test"},success:function(t){console.log(JSON.parse(JSON.parse(t.data).path)," at pages\\voice\\voice1.vue:150"),e.name=JSON.parse(JSON.parse(t.data).path),e.title=JSON.parse(JSON.parse(t.data).path).result,e.btn()}})})},playVoice:function(){console.log("播放录音"+this.voicePath," at pages\\voice\\voice1.vue:165"),this.voicePath&&(a.src=this.voicePath,a.play())},yuhc:function(e){console.log(1," at pages\\voice\\voice1.vue:173"),t.request({url:"https://www.qinendong.com/api/Voice/speech_synthesis",method:"POST",data:{value:e},header:{"Content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e.data.path," at pages\\voice\\voice1.vue:184");var o=t.getBackgroundAudioManager();o.title="小琴机器人",o.singer="暂无",o.coverImgUrl="http://www.qinendong.com/Images/imgUploader_db3c5ae0-601b-11e9-9c4f-4d49ff1664ec_微信图片_20190226103535.jpg",o.src="http://www.qinendong.com/Audio/".concat(e.data.path)}})}}};e.default=i}).call(this,o("6e42")["default"])},"21ec":function(t,e,o){"use strict";var a=o("8f46"),n=o.n(a);n.a},4146:function(t,e,o){"use strict";o.r(e);var a=o("125e"),n=o.n(a);for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);e["default"]=n.a},8993:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=(t._self._c,t.my.map(function(e,o){var a=t.isActive(o),n=t.isActive1(o);return{$orig:t.__get_orig(e),m0:a,m1:n}}));t.$mp.data=Object.assign({},{$root:{l0:o}})},n=[];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return n})},"8f46":function(t,e,o){},dc78:function(t,e,o){"use strict";o.r(e);var a=o("8993"),n=o("4146");for(var i in n)"default"!==i&&function(t){o.d(e,t,function(){return n[t]})}(i);o("21ec");var c=o("2877"),s=Object(c["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=s.exports}},[["0e8d","common/runtime","common/vendor"]]]);